!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.TuaWx={})}(this,function(t){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};console.log("Tua-Mp Version: 0.4.2");var b={enumerable:!0,configurable:!0},m=function(t){return"function"==typeof t},j=null,O=function(e,n){Object.keys(e).forEach(function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))})},g=function(d){return function(y){return function f(l){var t,a,c,i,p=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";if(Array.isArray(l)){var e=l.map(function(t,e){return f(t,p+"["+e+"]")});return a=(t={arr:e,prefix:p,asyncSetData:y}).arr,c=t.prefix,i=t.asyncSetData,["pop","push","sort","shift","splice","unshift","reverse"].forEach(function(t){var o=a[t];a[t]=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var r=o.apply(this,e);return i({newData:v({},c,a)}),r}}),a}if("object"===(void 0===l?"undefined":n(l))){var s=Object.create(null);return Object.keys(l).forEach(function(t){if(!/^__.*__$/.test(t)){var e,n,r,o,a,c,i,u=""===p?t:p+"."+t;e={obj:s,key:t,val:f(l[t],u),path:u,watchFn:d[u],asyncSetData:y},n=e.obj,r=e.key,o=e.val,a=e.path,c=e.watchFn,i=e.asyncSetData,Object.defineProperty(n,r,h({},b,{get:function(){return o},set:function(t){if(t!==o){var e=o;i({newData:v({},a,o=t),watchFn:c,path:a,oldVal:e})}}}))}}),s}return l}}};t.TuaPage=function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=void 0===e?{}:e,r=t.watch,s=void 0===r?{}:r,o=t.methods,a=void 0===o?{}:o,c=t.computed,y=void 0===c?{}:c,d=function(t,e){var n={};for(var r in t)0<=e.indexOf(r)||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["data","watch","methods","computed"]),i=m(n)?n():n;Page(h({},d,a,{data:i,onLoad:function(){var a,t,e,o,c,i,u,n=(a=this,function(t){var e=t.newData,n=t.watchFn,r=t.path,o=t.oldVal;j=h({},j,e),Promise.resolve().then(function(){j&&(a.setData(h({},a.$computed,j)),m(n)&&n.call(a,j[r],o),j=null)})}),r=g(s)(n);e=r((t=this).data),t.$data=e,O(e,t),o=this,c=y,i=s,u=Object.create(null),Object.keys(c).forEach(function(n){var r=c[n].call(o);Object.defineProperty(u,n,h({},b,{get:function(){var t=c[n].call(o),e=i[n];return m(e)&&t!==r&&e.call(o,t,r),t},set:function(){}}))}),o.$computed=u,O(u,o),o.setData(u);for(var f=arguments.length,l=Array(f),p=0;p<f;p++)l[p]=arguments[p];d.onLoad&&d.onLoad.apply(this,l)}}))},Object.defineProperty(t,"__esModule",{value:!0})});
